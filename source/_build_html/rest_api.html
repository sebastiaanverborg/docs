

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>REST API &mdash; Kasko Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Kasko Docs 1.0 documentation" href="index.html"/>
        <link rel="next" title="Products" href="products/index.html"/>
        <link rel="prev" title="KASKO JS" href="kasko_js.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Kasko Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="integration_methods.html">Integration Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="kasko_js.html">KASKO JS</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">REST API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authorization-header">Authorization Header</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-a-quote">Get a Quote</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#definition">Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-request">Example Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-response">Example Response</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-an-unpaid-policy">Create an unpaid policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Example Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Example Response</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#convert-unpaid-policy-to-paid-policy">Convert unpaid policy to paid policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Example Request</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#go-live">Go Live</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="products/index.html">Products</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Kasko Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>REST API</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/rest_api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rest-api">
<span id="id1"></span><h1>REST API<a class="headerlink" href="#rest-api" title="Permalink to this headline">¶</a></h1>
<p>The KASKO REST API is primarily used for getting quotes and purchasing policies.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Your account has to be API enabled before it can access the API.   Please contact <a class="reference external" href="mailto:techsupport&#37;&#52;&#48;kasko&#46;io">techsupport<span>&#64;</span>kasko<span>&#46;</span>io</a> if you would like access.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>The basic steps to creating a policy are as follows.</p>
<ol class="arabic simple">
<li>Set Authorization headers for all requests</li>
<li>Get a Quote</li>
<li>Create a Policy</li>
<li>Convert a policy status to paid</li>
<li>Testing and Go-Live</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>While developing/testing please ensure that you use the TEST key.</p>
<p class="last">Once the implementation has been completed and tested, and a go-live date has been approved by the business, you can change you key to the LIVE key.</p>
</div>
</div>
<div class="section" id="authorization-header">
<h2>Authorization Header<a class="headerlink" href="#authorization-header" title="Permalink to this headline">¶</a></h2>
<p>The request header must with your TEST or LIVE secret <a class="reference internal" href="authentication.html#keys"><span>Keys</span></a> on every request you make to the API.</p>
<div class="code rest highlight-python"><div class="highlight"><pre><span></span>Authorization: Bearer secret_key
</pre></div>
</div>
</div>
<div class="section" id="get-a-quote">
<h2>Get a Quote<a class="headerlink" href="#get-a-quote" title="Permalink to this headline">¶</a></h2>
<p>Get a quote from the KASKO platform</p>
<div class="section" id="definition">
<h3>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>GET https://qa-staging-api.kasko.io/quotes
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="11%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">required</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>variant_id</td>
<td>yes</td>
<td>string</td>
<td>Variant key provided by KASKO.</td>
</tr>
<tr class="row-odd"><td>data</td>
<td>yes</td>
<td>JSON</td>
<td>Refer to the <a class="reference internal" href="products/index.html#products"><span>Products</span></a> section for required data</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please URL Encode data</p>
</div>
</div>
<div class="section" id="example-request">
<h3>Example Request<a class="headerlink" href="#example-request" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>curl    --get &#39;https://qa-staging-api.kasko.io/quotes&#39; \
        --data &#39;variant_id=VARIANT_ID&#39; \
        --data-urlencode &#39;data=DATA&#39; \
        -H &#39;Authorization: Bearer sk_test_SECRET_KEY&#39;
</pre></div>
</div>
</div>
<div class="section" id="example-response">
<h3>Example Response<a class="headerlink" href="#example-response" title="Permalink to this headline">¶</a></h3>
<div class="code javascript highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="s2">&quot;gross_premium&quot;</span><span class="p">:</span> <span class="mi">699</span><span class="p">,</span>
        <span class="s2">&quot;currency&quot;</span><span class="p">:</span> <span class="s2">&quot;eur&quot;</span><span class="p">,</span>
        <span class="s2">&quot;net_premium&quot;</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span>
        <span class="s2">&quot;net_service_fee_total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;premium_tax&quot;</span><span class="p">:</span> <span class="mi">112</span><span class="p">,</span>
        <span class="s2">&quot;service_charge_vat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;2zDDsM+hPro2cDOhEqj7RuwJzcxcwC\/YgG2Wim13AFLaQXqhAL7hPDFTm5qhGV9wWm9dwinvcd44DnB22v6D1oYQmvM18MrKZtQZzoGb1Qtn8cH90ZIaKeywrxyNopZFOgw61PBbF74qo4Z1E4LKrbjEVl8fD9OJXcukDnC2\/r7Yi7KkEIGhKkBUyjn4LMlupi6rfpMUjRtx73f5WWin8lGJTGRIdcJGZKArE53wVZZKIRt230ee6ZXUOkGlPkKD7iJ15qOTCmKeoeaYY8+h59WT2Vmm6HSlljTuu11\/a1nwLz9rjmYIN9GOewQKuWXW0gL1xUuJh0cmGd8rMBjZ74FlhS59YxkSUzJJ4bsfE6cmcRXylBdb6iMG5WDryN4hpaTs8gqx9O8iphCTfpRox0l1LNYjJWdX7gaFHYkW7ZeI8HsFQs\/Dc4QYTfOTud6Xzu5k25Ae51z\/AOyNZBk0T3RSByYnKFzv\/czm19UzbdPU=&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-an-unpaid-policy">
<h2>Create an unpaid policy<a class="headerlink" href="#create-an-unpaid-policy" title="Permalink to this headline">¶</a></h2>
<p>Create an unpaid policy on the Kasko platform.</p>
<p>Why do we do this 2 step mechanism?   We want to ensure that there is no problem with the quote or details before you charge your customers for the policy.  After this point we can ensure that the policy can be purchased.</p>
<div class="section" id="id2">
<h3>Definition<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>POST https://qa-staging-api.kasko.io/policies
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="12%" />
<col width="15%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">required</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>quote_token</td>
<td>yes</td>
<td>string</td>
<td>Quote token provided in quote object</td>
</tr>
<tr class="row-odd"><td>first_name</td>
<td>yes</td>
<td>string</td>
<td>First Name of the customer</td>
</tr>
<tr class="row-even"><td>last_name</td>
<td>yes</td>
<td>string</td>
<td>Last Name of the customer</td>
</tr>
<tr class="row-odd"><td>email</td>
<td>yes</td>
<td>string</td>
<td>Email address of the customer</td>
</tr>
<tr class="row-even"><td>data</td>
<td>maybe</td>
<td>JSON</td>
<td>Refer to the product section here for required data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Example Request<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>curl &#39;https://qa-staging-api.kasko.io/policies&#39; \
        -H &#39;Authorization: Bearer sk_test_SECRET_KEY&#39; \
        -d quote_token=&#39;QUOTE_TOKEN&#39; \
        -d &#39;first_name=FIRSTNAME&#39; \
        -d &#39;last_name=SURNAME&#39; \
        -d &#39;email=EMAIL_ADDRESS&#39; \
        -d &#39;data=DATA&#39;
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>Example Response<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="code javascript highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;tmGgyzWx47B5qY6wXMLPNREA9dDnOQVZ3&quot;</span><span class="p">,</span>
  <span class="s2">&quot;payment_token&quot;</span><span class="p">:</span> <span class="s2">&quot;2pwqBTy+79gK/dKuJmRjC1yTk7jx5zvuh5tn34139GiOd8irZuuTB6ViTKyRMNW8VcctGzDAn+QQf9fHOjdowpE67GHEFFuy4X+QFfx87qlg=&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_links&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;_self&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://dev-api.kasko.io/policies/tmGgyzWx47B5qY6wXMLPNREA9dDnOQVZ3&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="convert-unpaid-policy-to-paid-policy">
<h2>Convert unpaid policy to paid policy<a class="headerlink" href="#convert-unpaid-policy-to-paid-policy" title="Permalink to this headline">¶</a></h2>
<p>Convert an already created policy to a paid policy.</p>
<p>This API request should be made after payment has been taken for the policy by the distirbutor.   This will trigger the KASKO platform to email the customer the Policy Documents.</p>
<div class="section" id="id6">
<h3>Definition<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>POST https://qa-staging-api.kasko.io/payments
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="12%" />
<col width="15%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">required</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>payment_token</td>
<td>yes</td>
<td>string</td>
<td>Payment token from /policy endpoint</td>
</tr>
<tr class="row-odd"><td>policy_id</td>
<td>yes</td>
<td>string</td>
<td>Policy ID from /policy endpoint</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id8">
<h3>Example Request<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-python"><div class="highlight"><pre><span></span>curl &#39;https://qa-staging-api.kasko.io/payments&#39; \
        -H &#39;Authorization: Bearer sk_test_SECRET_KEY&#39; \
        -d &quot;token=PAYMENT_TOKEN&quot; \
        -d &quot;policy_id=POLICY_ID&quot;
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Please contact <a class="reference external" href="mailto:techsupport&#37;&#52;&#48;kasko&#46;io">techsupport<span>&#64;</span>kasko<span>&#46;</span>io</a> with the URL of your page for us to check the integration</p>
</div>
<div class="section" id="go-live">
<h2>Go Live<a class="headerlink" href="#go-live" title="Permalink to this headline">¶</a></h2>
<p>When testing is complete and you&#8217;re ready to Go Live, please swap the
Client TEST key for the Client LIVE key in your production site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must swap you client key with the live client key before going live.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="products/index.html" class="btn btn-neutral float-right" title="Products" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kasko_js.html" class="btn btn-neutral" title="KASKO JS" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Kasko LTD.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>